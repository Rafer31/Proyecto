<div class="vehicles-grid">
  @for (vehicle of vehicles(); track vehicle.nroplaca) {
    <mat-card class="vehicle-card">
      <mat-card-header>
        <mat-card-title>Placa: {{ vehicle.nroplaca }}</mat-card-title>
      </mat-card-header>

      @if (vehicle.imageUrl) {
        <img mat-card-image [src]="vehicle.imageUrl" alt="Imagen de {{ vehicle.nroplaca }}" />
      } @else {
        <div class="no-image">
          <p>Sin imagen</p>
          <mat-icon>directions_bus</mat-icon>
        </div>
      }

      <mat-card-content class="mt-3">
        <p><strong>Tipo:</strong> {{ vehicle.tipovehiculo }}</p>
        <p><strong>Color:</strong> {{ vehicle.color }}</p>
        <p><strong>Asientos:</strong> {{ vehicle.nroasientos }}</p>
      </mat-card-content>

      <mat-card-actions>
        <button mat-raised-button color="primary">
          <mat-icon>visibility</mat-icon>
          Ver m√°s
        </button>

        <button mat-raised-button color="accent" (click)="onEditVehicle(vehicle)">
          <mat-icon>edit</mat-icon>
          Editar
        </button>

        <button mat-stroked-button color="warn" (click)="fileInput.click()">
          <mat-icon>upload</mat-icon>
          Subir imagen
        </button>

        <input
          #fileInput
          type="file"
          hidden
          accept="image/*"
          (change)="onFileSelected($event, vehicle)"
        />
      </mat-card-actions>
    </mat-card>
  }
</div>
